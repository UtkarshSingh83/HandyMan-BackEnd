<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./nav.css">
    <link rel="stylesheet" href="./footer.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <link rel="stylesheet" href="./estimatesheet.css">
    <title>Feedback</title>
</head>

<body class="outter">
    <main>
        <div class="container-fluid reviewheadDIV">
            <div class="row">
                <div class="col-md-12 col-sm-12 col-xs-12 headDIV">
                    <p class="feedfont fw-bold">SUBMIT YOUR VALUABLE FEEDBACK</p>
                </div>
            </div>
        </div>
        <div class="container mt-5 reviewform">
            <form id="feedbackForm" novalidate>
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" class="form-control" id="name" name="name">
                    <small id="nameError" class="form-text text-danger"></small>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" class="form-control" id="email" name="email">
                    <small id="emailError" class="form-text text-danger"></small>
                </div>
                <div class="form-group">
                    <label for="rating">Rating:</label>
                    <div class="rating">
                        <span><input type="radio" name="rating" value="5"></span>
                        <span><input type="radio" name="rating" value="4"></span>
                        <span><input type="radio" name="rating" value="3"></span>
                        <span><input type="radio" name="rating" value="2"></span>
                        <span><input type="radio" name="rating" value="1"></span>
                    </div>
                    <small id="ratingError" class="form-text text-danger"></small>
                </div>
                <div class="form-group">
                    <label for="howKnown">How did you hear about us?</label>
                    <select class="form-control" id="howKnown" name="howKnown">
                        <option value="">Select</option>
                        <option value="Search Engine">Search Engine</option>
                        <option value="Social Media">Social Media</option>
                        <option value="Friend/Family">Friend/Family</option>
                        <option value="Advertisement">Advertisement</option>
                        <option value="Other">Other</option>
                    </select>
                    <small id="howKnownError" class="form-text text-danger"></small>
                </div>
                <div class="form-group">
                    <label for="feedback">Feedback:</label>
                    <textarea class="form-control" id="feedback" name="feedback" rows="4"></textarea>
                    <small id="feedbackError" class="form-text text-danger"></small>
                </div>
                <div class="col-md-12 col-sm-12 col-xs-12 buttonDIV d-flex justify-content-center align-items-center">
                    <button class="btn btn-dark Buttreview" onsubmit="showMessage()">
                        <a href="/index.html" class="Butt">
                            SUBMIT
                        </a>
                    </button>
                </div>
            </form>
        </div>

        <!-- Bootstrap JS and jQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

        <script>
            document.getElementById('feedbackForm').addEventListener('submit', function (event) {
                event.preventDefault();
                validateForm();
            });

            function validateForm() {
                const nameInput = document.getElementById('name');
                const emailInput = document.getElementById('email');
                const ratingInputs = document.querySelectorAll('input[name="rating"]');
                const howKnownInput = document.getElementById('howKnown');
                const feedbackInput = document.getElementById('feedback');

                const nameError = document.getElementById('nameError');
                const emailError = document.getElementById('emailError');
                const ratingError = document.getElementById('ratingError');
                const howKnownError = document.getElementById('howKnownError');
                const feedbackError = document.getElementById('feedbackError');

                nameError.textContent = '';
                emailError.textContent = '';
                ratingError.textContent = '';
                howKnownError.textContent = '';
                feedbackError.textContent = '';

                let isValid = true;

                if (nameInput.value.trim() === '') {
                    nameError.textContent = 'Name is required';
                    isValid = false;
                }

                if (emailInput.value.trim() === '') {
                    emailError.textContent = 'Email is required';
                    isValid = false;
                } else if (!isValidEmail(emailInput.value.trim())) {
                    emailError.textContent = 'Invalid email format';
                    isValid = false;
                }

                let ratingSelected = false;
                ratingInputs.forEach(input => {
                    if (input.checked) {
                        ratingSelected = true;
                    }
                });
                if (!ratingSelected) {
                    ratingError.textContent = 'Rating is required';
                    isValid = false;
                }

                if (howKnownInput.value === '') {
                    howKnownError.textContent = 'Please select how you heard about us';
                    isValid = false;
                }

                if (feedbackInput.value.trim() === '') {
                    feedbackError.textContent = 'Feedback is required';
                    isValid = false;
                }

                if (isValid) {
                    feedbackForm.submit();
                }
            }

            function isValidEmail(email) {
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                return emailRegex.test(email);
            }
            function showMessage() {
            alert("Thankyou for your feedback.");
            }
        </script>

</body>

</html>